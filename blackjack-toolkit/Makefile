# =============================================================================
# MAKEFILE - Code Health Toolkit v1.0 (TypeScript/React Edition)
# =============================================================================

.PHONY: help install check quality test coverage health clean dev build

help:
	@echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
	@echo "  CODE HEALTH TOOLKIT v1.0 (TypeScript/React)"
	@echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
	@echo ""
	@echo "  make install    - ElsÅ‘ telepÃ­tÃ©s"
	@echo "  make check      - Gyors lint fix (munka kÃ¶zben)"
	@echo "  make quality    - Teljes quality gate"
	@echo "  make ci         - CI mÃ³d (strict)"
	@echo ""
	@echo "  make test       - Tesztek (watch mode)"
	@echo "  make test-run   - Tesztek (single run)"
	@echo "  make coverage   - Tesztek + coverage"
	@echo ""
	@echo "  make health     - Full health report"
	@echo "  make clean      - TakarÃ­tÃ¡s"
	@echo ""
	@echo "  make dev        - Dev server"
	@echo "  make build      - Production build"
	@echo ""

# =============================================================================
# SETUP
# =============================================================================

install:
	npm install
	chmod +x quality_gate.sh
	@echo "âœ… Installed!"

# =============================================================================
# DAILY WORKFLOW
# =============================================================================

check:
	@echo "âš¡ Quick check..."
	@npm run lint -- --fix || true
	@echo "âœ… Done"

quality:
	@./quality_gate.sh --full

ci:
	@./quality_gate.sh --ci

# =============================================================================
# TESTING
# =============================================================================

test:
	npm run test

test-run:
	npm run test -- --run

coverage:
	npm run test -- --run --coverage
	@echo "ğŸ“Š Report: coverage/index.html"

# =============================================================================
# ANALYSIS
# =============================================================================

health:
	@./quality_gate.sh --health

# =============================================================================
# INDIVIDUAL CHECKS
# =============================================================================

lint:
	npm run lint

type:
	npx tsc --noEmit

# =============================================================================
# DEV
# =============================================================================

dev:
	npm run dev

build:
	npm run build

# =============================================================================
# CLEANUP
# =============================================================================

clean:
	rm -rf node_modules/.cache coverage dist .eslintcache
	@echo "ğŸ§¹ Clean"
